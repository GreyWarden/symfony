{% extends 'base.html.twig' %}

{% block title %}Hello {{ controller_name }}!{% endblock %}

{% block styles %}
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
{% endblock %}

{% block body %}

<div class="example-wrapper">
    <h1 id="title">Hello {{ controller_name }}! ✅</h1>

    <ul>
        {% for user in users %}
            <ul>
                <li>
                    <h3>Nombre: {{ user.name }}</h3>
                    <h4>Regalo:</h4> <p>{{ gifts[loop.index0] }}</p>
                    {% if user.address %}
                        <h4>Dirección:</h4> <p>{{ user.address.street }} - {{ user.address.number }}</p>
                    {% endif %}
                    {% if user.followed.count %}
                        <h4>Seguidos: </h4>
                        <ul>
                            {% for followed in user.followed %}
                                <li>
                                    <p>Nombre: {{ followed.name }}</p>
                                </li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                    {% if user.following.count %}
                        <h4>Siguiendo: </h4>
                        <ul>
                            {% for following in user.following %}
                                <li>
                                    <p>Nombre: {{ following.name }}</p>
                                </li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </li>
            </ul>
        {% endfor %}
    </ul>


    {% for label, messages in app.flashes %}
        {% for message in messages %}
            {{ include('flash/base.html.twig', {label, messages}) }}
        {% endfor %}
    {% endfor %}
</div>
    {% block javascripts %}
        <script src="{{asset('build/js/custom.js')}}"></script>
        <script>
            $(document).ready(function () {
                $('#title').click(function () {
                    alert('Hello there!')
                })
            })
        </script>
    {% endblock %}
{% endblock %}
